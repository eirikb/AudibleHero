<div class="container">
  <hr>
  <h1>Welcome to AudibleHero!</h1>

  <div ng-show="data">

    <p>Last update: {{data.updated | date:'medium'}}</p>
    <a class="btn btn-primary" ui-sref="load">Update now</a>

    <div class="row">
      You have <span class="badge">{{(books | where:{owned: true}).length | number:0}}</span> books in your library.
      Of these you have downloaded <span class="badge">{{ (books | where:{downloaded:true}).length | number:0}}</span>.
      That is a total of <span class="badge">{{books | where:{downloaded:true} | map:'duration.asHours()' | _sum | number:0}}</span>
      hours downloaded (and probably
      listened
      to!).
      Found <span class="badge">{{data.books.length | number:0}}</span> books based on your authors.
    </div>
  </div>

  <div class="col-md-12">
    <tabset ng-show="data">
      <tab heading="All books" ng-if="true">
        <div filter-control filter="filter" ng-init="filter.showOwned = true"></div>
        <div booktable books="books" filtered-books="filteredBooks" filter="filter"></div>
      </tab>
      <tab heading="Grouped by series" ng-if="true">
        <div grouped="bySeries"></div>
      </tab>
      <tab heading="Missing books by Authors" ng-if="true">
        <div grouped="byAuthor"></div>
      </tab>
    </tabset>
  </div>
</div>
