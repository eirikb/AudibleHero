<label>
  <input type="checkbox" ng-model="showMissing" ng-init="showMissing = true">
  Show mising books
</label>
<label>
  <input type="checkbox" ng-model="showOwned">
  Show purchased books
</label>
<label>
  <input type="checkbox" ng-model="showIgnored">
  Show ignored books
</label>
<div class="panel panel-default" ng-repeat="key in books">
  <div class="panel-heading">
    <h2 class="panel-title">
      <img ng-src="{{group.owned[0].thumbnailUrl}}">
      {{group.key}}
      <button class="btn btn-primary" ng-click="group.showAll = !group.showAll">
        <i class="fa fa-chevron-{{group.showAll ? 'down' : 'right'}}"></i>
        See all {{group.missing.length}} books
      </button>
    </h2>
  </div>
  <div class="panel-body">
    <div ng-show="group.showAll">
      <div booktable books="value" show-missing="showMissing" show-owned="showOwned"></div>
    </div>
  </div>
</div>
